\hypertarget{1440603377_8php}{}\section{/home/jj/\+Projects/\+A\+S\+N/upgrade/upgrades/1440603377.php File Reference}
\label{1440603377_8php}\index{/home/jj/\+Projects/\+A\+S\+N/upgrade/upgrades/1440603377.\+php@{/home/jj/\+Projects/\+A\+S\+N/upgrade/upgrades/1440603377.\+php}}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{1440603377_8php_a7691c0162d89de0b6ba47edcd8ba8878}{\$database} = new \hyperlink{class_ossn_database}{Ossn\+Database}
\item 
\hyperlink{1440603377_8php_a512525d0f5eb608ac72ca7b85e5fbf65}{\$upgrade\+\_\+json}
\item 
\hyperlink{1440603377_8php_a13a7db07df65d01cfbca768f443084cc}{\$update} = array()
\item 
\hyperlink{1440603377_8php_aee7ba5985ddf023a93862ab77e9718f9}{\$update} \mbox{[}\textquotesingle{}table\textquotesingle{}\mbox{]} = \textquotesingle{}\hyperlink{ossn_8lib_8system_8php_a610e2045b8a86c09f777b4d82e24e34c}{ossn\+\_\+site\+\_\+settings}\textquotesingle{}
\item 
\hyperlink{1440603377_8php_abcf5ad2e4fef35de04bef0168cc91ddc}{\$update} \mbox{[}\textquotesingle{}names\textquotesingle{}\mbox{]}
\item 
\hyperlink{1440603377_8php_ac82a75b4c6df37380ff77c88f041785e}{\$update} \mbox{[}\textquotesingle{}values\textquotesingle{}\mbox{]}
\item 
\hyperlink{1440603377_8php_aacde4479a904b32d0f24dea4e01f148c}{\$update} \mbox{[}\textquotesingle{}wheres\textquotesingle{}\mbox{]}
\item 
\hyperlink{1440603377_8php_a9084097ce600d3cc7a79a20ecaea9906}{\$upgrade} = str\+\_\+replace(\textquotesingle{}.php\textquotesingle{}, \textquotesingle{}\textquotesingle{}, \$upgrade)
\item 
\hyperlink{jquery_8tokeninput_8js_ad8dd46a3cbc004569e34401e9e71771a}{if}(\$\hyperlink{ossn_8config_8db_8example_8php_a4e0ca996705612048240f76ff8d4da95}{database}-\/$>$\hyperlink{_chart_8_doughnut_8js_ad58a8121caa8678969d1ff32848a77c4}{update}(\$\hyperlink{_chart_8_doughnut_8js_ad58a8121caa8678969d1ff32848a77c4}{update})\&\&\hyperlink{ossn_8lib_8upgrade_8php_aa7120e10a9c14b722b0e25c99bc86d92}{ossn\+\_\+update\+\_\+db\+\_\+version}(\textquotesingle{}3.\+1\textquotesingle{})) \hyperlink{1440603377_8php_af00d4c833080ba7471d93ba86bcbbd13}{else}
\end{DoxyCompactItemize}


\subsection{Variable Documentation}
\index{1440603377.\+php@{1440603377.\+php}!\$database@{\$database}}
\index{\$database@{\$database}!1440603377.\+php@{1440603377.\+php}}
\subsubsection[{\texorpdfstring{\$database}{$database}}]{\setlength{\rightskip}{0pt plus 5cm}\${\bf database} = new {\bf Ossn\+Database}}\hypertarget{1440603377_8php_a7691c0162d89de0b6ba47edcd8ba8878}{}\label{1440603377_8php_a7691c0162d89de0b6ba47edcd8ba8878}


Definition at line 4 of file 1440603377.\+php.

\index{1440603377.\+php@{1440603377.\+php}!\$update@{\$update}}
\index{\$update@{\$update}!1440603377.\+php@{1440603377.\+php}}
\subsubsection[{\texorpdfstring{\$update}{$update}}]{\setlength{\rightskip}{0pt plus 5cm}\${\bf update} = array()}\hypertarget{1440603377_8php_a13a7db07df65d01cfbca768f443084cc}{}\label{1440603377_8php_a13a7db07df65d01cfbca768f443084cc}


Definition at line 18 of file 1440603377.\+php.

\index{1440603377.\+php@{1440603377.\+php}!\$update@{\$update}}
\index{\$update@{\$update}!1440603377.\+php@{1440603377.\+php}}
\subsubsection[{\texorpdfstring{\$update}{$update}}]{\setlength{\rightskip}{0pt plus 5cm}\${\bf update}\mbox{[}\textquotesingle{}table\textquotesingle{}\mbox{]} = \textquotesingle{}{\bf ossn\+\_\+site\+\_\+settings}\textquotesingle{}}\hypertarget{1440603377_8php_aee7ba5985ddf023a93862ab77e9718f9}{}\label{1440603377_8php_aee7ba5985ddf023a93862ab77e9718f9}


Definition at line 19 of file 1440603377.\+php.

\index{1440603377.\+php@{1440603377.\+php}!\$update@{\$update}}
\index{\$update@{\$update}!1440603377.\+php@{1440603377.\+php}}
\subsubsection[{\texorpdfstring{\$update}{$update}}]{\setlength{\rightskip}{0pt plus 5cm}\${\bf update}\mbox{[}\textquotesingle{}names\textquotesingle{}\mbox{]}}\hypertarget{1440603377_8php_abcf5ad2e4fef35de04bef0168cc91ddc}{}\label{1440603377_8php_abcf5ad2e4fef35de04bef0168cc91ddc}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= array(
        \textcolor{stringliteral}{'value'}
)
\end{DoxyCode}


Definition at line 20 of file 1440603377.\+php.

\index{1440603377.\+php@{1440603377.\+php}!\$update@{\$update}}
\index{\$update@{\$update}!1440603377.\+php@{1440603377.\+php}}
\subsubsection[{\texorpdfstring{\$update}{$update}}]{\setlength{\rightskip}{0pt plus 5cm}\${\bf update}\mbox{[}\textquotesingle{}values\textquotesingle{}\mbox{]}}\hypertarget{1440603377_8php_ac82a75b4c6df37380ff77c88f041785e}{}\label{1440603377_8php_ac82a75b4c6df37380ff77c88f041785e}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= array(
        \hyperlink{1440603377_8php_a512525d0f5eb608ac72ca7b85e5fbf65}{$upgrade\_json}
)
\end{DoxyCode}


Definition at line 23 of file 1440603377.\+php.

\index{1440603377.\+php@{1440603377.\+php}!\$update@{\$update}}
\index{\$update@{\$update}!1440603377.\+php@{1440603377.\+php}}
\subsubsection[{\texorpdfstring{\$update}{$update}}]{\setlength{\rightskip}{0pt plus 5cm}\${\bf update}\mbox{[}\textquotesingle{}wheres\textquotesingle{}\mbox{]}}\hypertarget{1440603377_8php_aacde4479a904b32d0f24dea4e01f148c}{}\label{1440603377_8php_aacde4479a904b32d0f24dea4e01f148c}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= array(
        \textcolor{stringliteral}{"name='upgrades'"}
)
\end{DoxyCode}


Definition at line 26 of file 1440603377.\+php.

\index{1440603377.\+php@{1440603377.\+php}!\$upgrade@{\$upgrade}}
\index{\$upgrade@{\$upgrade}!1440603377.\+php@{1440603377.\+php}}
\subsubsection[{\texorpdfstring{\$upgrade}{$upgrade}}]{\setlength{\rightskip}{0pt plus 5cm}\$upgrade = str\+\_\+replace(\textquotesingle{}.php\textquotesingle{}, \textquotesingle{}\textquotesingle{}, \$upgrade)}\hypertarget{1440603377_8php_a9084097ce600d3cc7a79a20ecaea9906}{}\label{1440603377_8php_a9084097ce600d3cc7a79a20ecaea9906}


Definition at line 30 of file 1440603377.\+php.

\index{1440603377.\+php@{1440603377.\+php}!\$upgrade\+\_\+json@{\$upgrade\+\_\+json}}
\index{\$upgrade\+\_\+json@{\$upgrade\+\_\+json}!1440603377.\+php@{1440603377.\+php}}
\subsubsection[{\texorpdfstring{\$upgrade\+\_\+json}{$upgrade_json}}]{\setlength{\rightskip}{0pt plus 5cm}\$upgrade\+\_\+json}\hypertarget{1440603377_8php_a512525d0f5eb608ac72ca7b85e5fbf65}{}\label{1440603377_8php_a512525d0f5eb608ac72ca7b85e5fbf65}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= array\_merge(\hyperlink{ossn_8lib_8upgrade_8php_a984d0f1ee4273d739939d28d00a8bedb}{ossn\_get\_upgraded\_files}(), array(
        \hyperlink{1440603377_8php_a9084097ce600d3cc7a79a20ecaea9906}{$upgrade}
))
\end{DoxyCode}
Update processed updates in database so user cannot upgrade again and again.

can we make this script short? 

Definition at line 13 of file 1440603377.\+php.

\index{1440603377.\+php@{1440603377.\+php}!else@{else}}
\index{else@{else}!1440603377.\+php@{1440603377.\+php}}
\subsubsection[{\texorpdfstring{else}{else}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf if} (\${\bf database}-\/$>${\bf update}(\${\bf update})\&\&{\bf ossn\+\_\+update\+\_\+db\+\_\+version}(\textquotesingle{}3.\+1\textquotesingle{})) else}\hypertarget{1440603377_8php_af00d4c833080ba7471d93ba86bcbbd13}{}\label{1440603377_8php_af00d4c833080ba7471d93ba86bcbbd13}
{\bfseries Initial value\+:}
\begin{DoxyCode}
\{
        \hyperlink{ossn_8lib_8system_8php_ab3f23f23f32f50c12e7aea0ffaccaac7}{ossn\_trigger\_message}(\hyperlink{ossn_8lib_8languages_8php_a2be5d1c4b695593a9b9067b96df2150a}{ossn\_print}(\textcolor{stringliteral}{'upgrade:failed'}, array(
                \hyperlink{1440603377_8php_a9084097ce600d3cc7a79a20ecaea9906}{$upgrade}
        )), \textcolor{stringliteral}{'error'})
\end{DoxyCode}


Definition at line 35 of file 1440603377.\+php.

