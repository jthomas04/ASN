\hypertarget{1411396351_8php}{}\section{/home/jj/\+Projects/\+A\+S\+N/upgrade/upgrades/1411396351.php File Reference}
\label{1411396351_8php}\index{/home/jj/\+Projects/\+A\+S\+N/upgrade/upgrades/1411396351.\+php@{/home/jj/\+Projects/\+A\+S\+N/upgrade/upgrades/1411396351.\+php}}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{1411396351_8php_a7691c0162d89de0b6ba47edcd8ba8878}{\$database} = new \hyperlink{class_ossn_database}{Ossn\+Database}
\item 
\hyperlink{1411396351_8php_ae91bffdbb4c66207cfd927d922ef63e7}{\$fetch} \mbox{[}\textquotesingle{}from\textquotesingle{}\mbox{]} = \textquotesingle{}\hyperlink{ossn_8lib_8system_8php_a610e2045b8a86c09f777b4d82e24e34c}{ossn\+\_\+site\+\_\+settings}\textquotesingle{}
\item 
\hyperlink{1411396351_8php_ac72c925d8ad9ab6b9bf7c7a1401230bb}{\$fetch} \mbox{[}\textquotesingle{}wheres\textquotesingle{}\mbox{]} = array(\char`\"{}name=\textquotesingle{}display\+\_\+errors\textquotesingle{}\char`\"{})
\item 
\hyperlink{1411396351_8php_a603ec11d3d0b1de98b918ac7beaed8e9}{\$siterror\+\_\+settings} = \$\hyperlink{ossn_8config_8db_8example_8php_a4e0ca996705612048240f76ff8d4da95}{database}-\/$>$select(\$fetch)
\item 
\hyperlink{1411396351_8php_ae846833ac05b1013eb18688f385be0f6}{\$site\+\_\+key\+\_\+settings} = \$\hyperlink{ossn_8config_8db_8example_8php_a4e0ca996705612048240f76ff8d4da95}{database}-\/$>$select(\$fetch)
\item 
\hyperlink{jquery_8tokeninput_8js_ad8dd46a3cbc004569e34401e9e71771a}{if}(empty(\$site\+\_\+key\+\_\+settings-\/$>$setting\+\_\+id)) \hyperlink{1411396351_8php_a26b660feab4650f67453790d8da963ce}{\$file} = file\+\_\+get\+\_\+contents(\hyperlink{ossn_8lib_8route_8php_ac23dc424aa33dcd57982b72f4ed1217e}{ossn\+\_\+route}()-\/$>$configs . \textquotesingle{}ossn.\+config.\+site.\+php\textquotesingle{})
\item 
\hyperlink{1411396351_8php_a7c532aa81eeffa35b8c2bb5c7648c85a}{\$remove\+\_\+errors} = str\+\_\+replace(\char`\"{}error\+\_\+reporting(E\+\_\+\+N\+O\+T\+I\+CE $^\wedge$ $\sim$E\+\_\+\+W\+A\+R\+N\+I\+NG);\char`\"{}, \char`\"{}\char`\"{}, \$file)
\item 
\hyperlink{1411396351_8php_a512525d0f5eb608ac72ca7b85e5fbf65}{\$upgrade\+\_\+json} = array\+\_\+merge(\hyperlink{ossn_8lib_8upgrade_8php_a984d0f1ee4273d739939d28d00a8bedb}{ossn\+\_\+get\+\_\+upgraded\+\_\+files}(), array(\$upgrade))
\item 
\hyperlink{1411396351_8php_aee7ba5985ddf023a93862ab77e9718f9}{\$update} \mbox{[}\textquotesingle{}table\textquotesingle{}\mbox{]} = \textquotesingle{}\hyperlink{ossn_8lib_8system_8php_a610e2045b8a86c09f777b4d82e24e34c}{ossn\+\_\+site\+\_\+settings}\textquotesingle{}
\item 
\hyperlink{1411396351_8php_abcf5ad2e4fef35de04bef0168cc91ddc}{\$update} \mbox{[}\textquotesingle{}names\textquotesingle{}\mbox{]} = array(\textquotesingle{}\hyperlink{fullpage_2plugin_8min_8js_ac56c57897e10f699d124e0103921aa20}{value}\textquotesingle{})
\item 
\hyperlink{1411396351_8php_ac82a75b4c6df37380ff77c88f041785e}{\$update} \mbox{[}\textquotesingle{}values\textquotesingle{}\mbox{]} = array(\$upgrade\+\_\+json)
\item 
\hyperlink{1411396351_8php_aacde4479a904b32d0f24dea4e01f148c}{\$update} \mbox{[}\textquotesingle{}wheres\textquotesingle{}\mbox{]} = array(\char`\"{}name=\textquotesingle{}upgrades\textquotesingle{}\char`\"{})
\item 
\hyperlink{1411396351_8php_a9084097ce600d3cc7a79a20ecaea9906}{\$upgrade} = str\+\_\+replace(\textquotesingle{}.php\textquotesingle{}, \textquotesingle{}\textquotesingle{}, \$upgrade)
\item 
\hyperlink{jquery_8tokeninput_8js_ad8dd46a3cbc004569e34401e9e71771a}{if}(\$\hyperlink{ossn_8config_8db_8example_8php_a4e0ca996705612048240f76ff8d4da95}{database}-\/$>$\hyperlink{_chart_8_doughnut_8js_ad58a8121caa8678969d1ff32848a77c4}{update}(\$\hyperlink{_chart_8_doughnut_8js_ad58a8121caa8678969d1ff32848a77c4}{update})) \hyperlink{1411396351_8php_aa7c58ee9f19ec0c0f3a1951839273e79}{else}
\end{DoxyCompactItemize}


\subsection{Variable Documentation}
\index{1411396351.\+php@{1411396351.\+php}!\$database@{\$database}}
\index{\$database@{\$database}!1411396351.\+php@{1411396351.\+php}}
\subsubsection[{\texorpdfstring{\$database}{$database}}]{\setlength{\rightskip}{0pt plus 5cm}\${\bf database} = new {\bf Ossn\+Database}}\hypertarget{1411396351_8php_a7691c0162d89de0b6ba47edcd8ba8878}{}\label{1411396351_8php_a7691c0162d89de0b6ba47edcd8ba8878}


Definition at line 5 of file 1411396351.\+php.

\index{1411396351.\+php@{1411396351.\+php}!\$fetch@{\$fetch}}
\index{\$fetch@{\$fetch}!1411396351.\+php@{1411396351.\+php}}
\subsubsection[{\texorpdfstring{\$fetch}{$fetch}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf if} (empty(\$siterror\+\_\+settings-\/$>$setting\+\_\+id)) \$fetch\mbox{[}\textquotesingle{}from\textquotesingle{}\mbox{]} = \textquotesingle{}{\bf ossn\+\_\+site\+\_\+settings}\textquotesingle{}}\hypertarget{1411396351_8php_ae91bffdbb4c66207cfd927d922ef63e7}{}\label{1411396351_8php_ae91bffdbb4c66207cfd927d922ef63e7}
Check if the site errors settings exists or not

private

If settings didn\textquotesingle{}t exist then create settings

private Check if the site key settings exists or not

private 

Definition at line 11 of file 1411396351.\+php.

\index{1411396351.\+php@{1411396351.\+php}!\$fetch@{\$fetch}}
\index{\$fetch@{\$fetch}!1411396351.\+php@{1411396351.\+php}}
\subsubsection[{\texorpdfstring{\$fetch}{$fetch}}]{\setlength{\rightskip}{0pt plus 5cm}\$fetch\mbox{[}\textquotesingle{}wheres\textquotesingle{}\mbox{]} = array(\char`\"{}name=\textquotesingle{}display\+\_\+errors\textquotesingle{}\char`\"{})}\hypertarget{1411396351_8php_ac72c925d8ad9ab6b9bf7c7a1401230bb}{}\label{1411396351_8php_ac72c925d8ad9ab6b9bf7c7a1401230bb}


Definition at line 12 of file 1411396351.\+php.

\index{1411396351.\+php@{1411396351.\+php}!\$file@{\$file}}
\index{\$file@{\$file}!1411396351.\+php@{1411396351.\+php}}
\subsubsection[{\texorpdfstring{\$file}{$file}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf if} (empty(\$site\+\_\+key\+\_\+settings-\/$>$setting\+\_\+id)) \$file = file\+\_\+get\+\_\+contents({\bf ossn\+\_\+route}()-\/$>$configs . \textquotesingle{}ossn.\+config.\+site.\+php\textquotesingle{})}\hypertarget{1411396351_8php_a26b660feab4650f67453790d8da963ce}{}\label{1411396351_8php_a26b660feab4650f67453790d8da963ce}
If settings didn\textquotesingle{}t exist then create settings

private Update configuration file

private 

Definition at line 66 of file 1411396351.\+php.

\index{1411396351.\+php@{1411396351.\+php}!\$remove\+\_\+errors@{\$remove\+\_\+errors}}
\index{\$remove\+\_\+errors@{\$remove\+\_\+errors}!1411396351.\+php@{1411396351.\+php}}
\subsubsection[{\texorpdfstring{\$remove\+\_\+errors}{$remove_errors}}]{\setlength{\rightskip}{0pt plus 5cm}\$remove\+\_\+errors = str\+\_\+replace(\char`\"{}error\+\_\+reporting(E\+\_\+\+N\+O\+T\+I\+CE $^\wedge$ $\sim$E\+\_\+\+W\+A\+R\+N\+I\+NG);\char`\"{}, \char`\"{}\char`\"{}, \$file)}\hypertarget{1411396351_8php_a7c532aa81eeffa35b8c2bb5c7648c85a}{}\label{1411396351_8php_a7c532aa81eeffa35b8c2bb5c7648c85a}


Definition at line 67 of file 1411396351.\+php.

\index{1411396351.\+php@{1411396351.\+php}!\$site\+\_\+key\+\_\+settings@{\$site\+\_\+key\+\_\+settings}}
\index{\$site\+\_\+key\+\_\+settings@{\$site\+\_\+key\+\_\+settings}!1411396351.\+php@{1411396351.\+php}}
\subsubsection[{\texorpdfstring{\$site\+\_\+key\+\_\+settings}{$site_key_settings}}]{\setlength{\rightskip}{0pt plus 5cm}\$site\+\_\+key\+\_\+settings = \${\bf database}-\/$>$select(\$fetch)}\hypertarget{1411396351_8php_ae846833ac05b1013eb18688f385be0f6}{}\label{1411396351_8php_ae846833ac05b1013eb18688f385be0f6}


Definition at line 41 of file 1411396351.\+php.

\index{1411396351.\+php@{1411396351.\+php}!\$siterror\+\_\+settings@{\$siterror\+\_\+settings}}
\index{\$siterror\+\_\+settings@{\$siterror\+\_\+settings}!1411396351.\+php@{1411396351.\+php}}
\subsubsection[{\texorpdfstring{\$siterror\+\_\+settings}{$siterror_settings}}]{\setlength{\rightskip}{0pt plus 5cm}\$siterror\+\_\+settings = \${\bf database}-\/$>$select(\$fetch)}\hypertarget{1411396351_8php_a603ec11d3d0b1de98b918ac7beaed8e9}{}\label{1411396351_8php_a603ec11d3d0b1de98b918ac7beaed8e9}


Definition at line 13 of file 1411396351.\+php.

\index{1411396351.\+php@{1411396351.\+php}!\$update@{\$update}}
\index{\$update@{\$update}!1411396351.\+php@{1411396351.\+php}}
\subsubsection[{\texorpdfstring{\$update}{$update}}]{\setlength{\rightskip}{0pt plus 5cm}\${\bf update}\mbox{[}\textquotesingle{}table\textquotesingle{}\mbox{]} = \textquotesingle{}{\bf ossn\+\_\+site\+\_\+settings}\textquotesingle{}}\hypertarget{1411396351_8php_aee7ba5985ddf023a93862ab77e9718f9}{}\label{1411396351_8php_aee7ba5985ddf023a93862ab77e9718f9}


Definition at line 79 of file 1411396351.\+php.

\index{1411396351.\+php@{1411396351.\+php}!\$update@{\$update}}
\index{\$update@{\$update}!1411396351.\+php@{1411396351.\+php}}
\subsubsection[{\texorpdfstring{\$update}{$update}}]{\setlength{\rightskip}{0pt plus 5cm}\${\bf update}\mbox{[}\textquotesingle{}names\textquotesingle{}\mbox{]} = array(\textquotesingle{}{\bf value}\textquotesingle{})}\hypertarget{1411396351_8php_abcf5ad2e4fef35de04bef0168cc91ddc}{}\label{1411396351_8php_abcf5ad2e4fef35de04bef0168cc91ddc}


Definition at line 80 of file 1411396351.\+php.

\index{1411396351.\+php@{1411396351.\+php}!\$update@{\$update}}
\index{\$update@{\$update}!1411396351.\+php@{1411396351.\+php}}
\subsubsection[{\texorpdfstring{\$update}{$update}}]{\setlength{\rightskip}{0pt plus 5cm}\${\bf update}\mbox{[}\textquotesingle{}values\textquotesingle{}\mbox{]} = array(\$upgrade\+\_\+json)}\hypertarget{1411396351_8php_ac82a75b4c6df37380ff77c88f041785e}{}\label{1411396351_8php_ac82a75b4c6df37380ff77c88f041785e}


Definition at line 81 of file 1411396351.\+php.

\index{1411396351.\+php@{1411396351.\+php}!\$update@{\$update}}
\index{\$update@{\$update}!1411396351.\+php@{1411396351.\+php}}
\subsubsection[{\texorpdfstring{\$update}{$update}}]{\setlength{\rightskip}{0pt plus 5cm}\${\bf update}\mbox{[}\textquotesingle{}wheres\textquotesingle{}\mbox{]} = array(\char`\"{}name=\textquotesingle{}upgrades\textquotesingle{}\char`\"{})}\hypertarget{1411396351_8php_aacde4479a904b32d0f24dea4e01f148c}{}\label{1411396351_8php_aacde4479a904b32d0f24dea4e01f148c}


Definition at line 82 of file 1411396351.\+php.

\index{1411396351.\+php@{1411396351.\+php}!\$upgrade@{\$upgrade}}
\index{\$upgrade@{\$upgrade}!1411396351.\+php@{1411396351.\+php}}
\subsubsection[{\texorpdfstring{\$upgrade}{$upgrade}}]{\setlength{\rightskip}{0pt plus 5cm}\$upgrade = str\+\_\+replace(\textquotesingle{}.php\textquotesingle{}, \textquotesingle{}\textquotesingle{}, \$upgrade)}\hypertarget{1411396351_8php_a9084097ce600d3cc7a79a20ecaea9906}{}\label{1411396351_8php_a9084097ce600d3cc7a79a20ecaea9906}


Definition at line 84 of file 1411396351.\+php.

\index{1411396351.\+php@{1411396351.\+php}!\$upgrade\+\_\+json@{\$upgrade\+\_\+json}}
\index{\$upgrade\+\_\+json@{\$upgrade\+\_\+json}!1411396351.\+php@{1411396351.\+php}}
\subsubsection[{\texorpdfstring{\$upgrade\+\_\+json}{$upgrade_json}}]{\setlength{\rightskip}{0pt plus 5cm}\$upgrade\+\_\+json = array\+\_\+merge({\bf ossn\+\_\+get\+\_\+upgraded\+\_\+files}(), array(\$upgrade))}\hypertarget{1411396351_8php_a512525d0f5eb608ac72ca7b85e5fbf65}{}\label{1411396351_8php_a512525d0f5eb608ac72ca7b85e5fbf65}
Update processed updates in database so user cannot upgrade again and again.

private 

Definition at line 76 of file 1411396351.\+php.

\index{1411396351.\+php@{1411396351.\+php}!else@{else}}
\index{else@{else}!1411396351.\+php@{1411396351.\+php}}
\subsubsection[{\texorpdfstring{else}{else}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf if} (\${\bf database}-\/$>${\bf update}(\${\bf update})) else}\hypertarget{1411396351_8php_aa7c58ee9f19ec0c0f3a1951839273e79}{}\label{1411396351_8php_aa7c58ee9f19ec0c0f3a1951839273e79}
{\bfseries Initial value\+:}
\begin{DoxyCode}
\{
    \hyperlink{ossn_8lib_8system_8php_ab3f23f23f32f50c12e7aea0ffaccaac7}{ossn\_trigger\_message}(\hyperlink{ossn_8lib_8languages_8php_a2be5d1c4b695593a9b9067b96df2150a}{ossn\_print}(\textcolor{stringliteral}{'upgrade:failed'}, array(
      \hyperlink{1411396351_8php_a9084097ce600d3cc7a79a20ecaea9906}{$upgrade})), \textcolor{stringliteral}{'error'})
\end{DoxyCode}


Definition at line 87 of file 1411396351.\+php.

