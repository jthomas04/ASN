\hypertarget{layer_2plugin_8min_8js}{}\section{/home/jj/\+Projects/\+A\+S\+N/vendors/tinymce/plugins/layer/plugin.min.\+js File Reference}
\label{layer_2plugin_8min_8js}\index{/home/jj/\+Projects/\+A\+S\+N/vendors/tinymce/plugins/layer/plugin.\+min.\+js@{/home/jj/\+Projects/\+A\+S\+N/vendors/tinymce/plugins/layer/plugin.\+min.\+js}}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{legacyoutput_2plugin_8min_8js_a9e0c63e13122add16db57b355b91bbc8}{tinymce} Plugin\+Manager \hyperlink{layer_2plugin_8min_8js_a0acf7b5c627111406907b6d1ecf99ba9}{add} (\char`\"{}layer\char`\"{}, function(\hyperlink{jquery-ui_8min_8js_abea95a4e94bc6f4151d5683d4c12c3f4}{e})\{function \hyperlink{jquery-ui_8min_8js_acf335ef347969ef6dc8387e680fb289e}{t}(\hyperlink{jquery-ui_8min_8js_abea95a4e94bc6f4151d5683d4c12c3f4}{e})\{do \hyperlink{jquery_8tokeninput_8js_ad8dd46a3cbc004569e34401e9e71771a}{if}(e.\+class\+Name \&\&-\/1!=\hyperlink{_chart_8_core_8js_a2b42b59c40371ac6f69bdd12a58bdf7d}{e.\+class\+Name.\+index\+Of}(\char`\"{}mce\+Item\+Layer\char`\"{})) return \hyperlink{jquery-ui_8min_8js_abea95a4e94bc6f4151d5683d4c12c3f4}{e};while(\hyperlink{jquery-ui_8min_8js_abea95a4e94bc6f4151d5683d4c12c3f4}{e}=e.\+parent\+Node)\}function \hyperlink{fullpage_2plugin_8min_8js_ab767a859d1217315f42c9bb52fc648dc}{n}(\hyperlink{jquery-ui_8min_8js_acf335ef347969ef6dc8387e680fb289e}{t})\{var \hyperlink{fullpage_2plugin_8min_8js_ab767a859d1217315f42c9bb52fc648dc}{n}=e.\+dom;\hyperlink{fullpage_2plugin_8min_8js_a536422939f8cd6b5867a8fb424c3c02e}{tinymce.\+each}(n.\+select(\char`\"{}div,\hyperlink{jquery-ui_8min_8js_ad1707b001240e9c8298830073364c8bf}{p}\char`\"{}, t), function(\hyperlink{jquery-ui_8min_8js_abea95a4e94bc6f4151d5683d4c12c3f4}{e})\{/$^\wedge$(absolute$\vert$relative$\vert$fixed)\$/i.\+test(\hyperlink{jquery-ui_8min_8js_a46cd3bf7f3b19525671d8317c10bdc49}{e.\+style.\+position})\&\&(e.\+has\+Visual?n.\+add\+Class(\hyperlink{jquery-ui_8min_8js_abea95a4e94bc6f4151d5683d4c12c3f4}{e},\char`\"{}mce\+Item\+Visual\+Aid\char`\"{})\+:n.\+remove\+Class(\hyperlink{jquery-ui_8min_8js_abea95a4e94bc6f4151d5683d4c12c3f4}{e},\char`\"{}mce\+Item\+Visual\+Aid\char`\"{}), n.\+add\+Class(\hyperlink{jquery-ui_8min_8js_abea95a4e94bc6f4151d5683d4c12c3f4}{e},\char`\"{}mce\+Item\+Layer\char`\"{}))\})\}function \hyperlink{jquery-ui_8min_8js_a83e0f8a79d7f496783fc7527db51773e}{i}(\hyperlink{fullpage_2plugin_8min_8js_ab767a859d1217315f42c9bb52fc648dc}{n})\{var \hyperlink{jquery-ui_8min_8js_a83e0f8a79d7f496783fc7527db51773e}{i}, \hyperlink{fullpage_2plugin_8min_8js_a4afc7c854f61c136d7bcfa8997651b88}{o}, \hyperlink{_chart_8min_8js_aef3b685c08bc6c76c8e729bd0e93901d}{a}=\mbox{[}$\,$\mbox{]}, \hyperlink{jquery-1_811_81_8min_8js_a96f65b399314d93896076ceb474b6b9b}{r}=\hyperlink{jquery-ui_8min_8js_acf335ef347969ef6dc8387e680fb289e}{t}(e.\+selection.\+get\+Node()), \hyperlink{jquery-ui_8min_8js_ae5e71a2600e8891c54854be157cc6626}{l}=-\/1, \hyperlink{paste_2plugin_8min_8js_a43ae144ee2a4e493fea41ca42f795b14}{s}=-\/1;\hyperlink{jquery-ui_8min_8js_a75bc805cf26ad48d8e8a98f5af2c3e76}{for}(\hyperlink{fullpage_2plugin_8min_8js_a4afc7c854f61c136d7bcfa8997651b88}{o}=\mbox{[}$\,$\mbox{]}, tinymce.\+walk(e.\+get\+Body(), function(\hyperlink{jquery-ui_8min_8js_abea95a4e94bc6f4151d5683d4c12c3f4}{e})\{1==e.\+node\+Type \&\&/$^\wedge$(absolute$\vert$relative$\vert$static)\$/i.\+test(\hyperlink{jquery-ui_8min_8js_a46cd3bf7f3b19525671d8317c10bdc49}{e.\+style.\+position})\&\&o.\+push(\hyperlink{jquery-ui_8min_8js_abea95a4e94bc6f4151d5683d4c12c3f4}{e})\},\char`\"{}child\+Nodes\char`\"{}), i=0;\hyperlink{jquery-ui_8min_8js_a83e0f8a79d7f496783fc7527db51773e}{i}$<$ o.\+length;\hyperlink{jquery-ui_8min_8js_a83e0f8a79d7f496783fc7527db51773e}{i}++) \hyperlink{_chart_8min_8js_aef3b685c08bc6c76c8e729bd0e93901d}{a}\mbox{[}\hyperlink{jquery-ui_8min_8js_a83e0f8a79d7f496783fc7527db51773e}{i}\mbox{]}=\hyperlink{fullpage_2plugin_8min_8js_a4afc7c854f61c136d7bcfa8997651b88}{o}\mbox{[}\hyperlink{jquery-ui_8min_8js_a83e0f8a79d7f496783fc7527db51773e}{i}\mbox{]}.style.\+z\+Index?parse\+Int(\hyperlink{fullpage_2plugin_8min_8js_a4afc7c854f61c136d7bcfa8997651b88}{o}\mbox{[}\hyperlink{jquery-ui_8min_8js_a83e0f8a79d7f496783fc7527db51773e}{i}\mbox{]}.style.\+z\+Index, 10)\+:0, 0 $>$ \hyperlink{jquery-ui_8min_8js_ae5e71a2600e8891c54854be157cc6626}{l} \&\&\hyperlink{fullpage_2plugin_8min_8js_a4afc7c854f61c136d7bcfa8997651b88}{o}\mbox{[}\hyperlink{jquery-ui_8min_8js_a83e0f8a79d7f496783fc7527db51773e}{i}\mbox{]}==\hyperlink{jquery-1_811_81_8min_8js_a96f65b399314d93896076ceb474b6b9b}{r} \&\&(\hyperlink{jquery-ui_8min_8js_ae5e71a2600e8891c54854be157cc6626}{l}=\hyperlink{jquery-ui_8min_8js_a83e0f8a79d7f496783fc7527db51773e}{i});\hyperlink{jquery_8tokeninput_8js_ad8dd46a3cbc004569e34401e9e71771a}{if}(0 $>$ \hyperlink{fullpage_2plugin_8min_8js_ab767a859d1217315f42c9bb52fc648dc}{n})\{\hyperlink{jquery-ui_8min_8js_a75bc805cf26ad48d8e8a98f5af2c3e76}{for}(\hyperlink{jquery-ui_8min_8js_a83e0f8a79d7f496783fc7527db51773e}{i}=0;\hyperlink{jquery-ui_8min_8js_a83e0f8a79d7f496783fc7527db51773e}{i}$<$ a.\+length;\hyperlink{jquery-ui_8min_8js_a83e0f8a79d7f496783fc7527db51773e}{i}++) \hyperlink{jquery_8tokeninput_8js_ad8dd46a3cbc004569e34401e9e71771a}{if}(\hyperlink{_chart_8min_8js_aef3b685c08bc6c76c8e729bd0e93901d}{a}\mbox{[}\hyperlink{jquery-ui_8min_8js_a83e0f8a79d7f496783fc7527db51773e}{i}\mbox{]}$<$ \hyperlink{_chart_8min_8js_aef3b685c08bc6c76c8e729bd0e93901d}{a}\mbox{[}\hyperlink{jquery-ui_8min_8js_ae5e71a2600e8891c54854be157cc6626}{l}\mbox{]})\{\hyperlink{paste_2plugin_8min_8js_a43ae144ee2a4e493fea41ca42f795b14}{s}=\hyperlink{jquery-ui_8min_8js_a83e0f8a79d7f496783fc7527db51773e}{i};break\}\hyperlink{paste_2plugin_8min_8js_a43ae144ee2a4e493fea41ca42f795b14}{s} $>$-\/1?(\hyperlink{fullpage_2plugin_8min_8js_a4afc7c854f61c136d7bcfa8997651b88}{o}\mbox{[}\hyperlink{jquery-ui_8min_8js_ae5e71a2600e8891c54854be157cc6626}{l}\mbox{]}.style.\+z\+Index=\hyperlink{_chart_8min_8js_aef3b685c08bc6c76c8e729bd0e93901d}{a}\mbox{[}\hyperlink{paste_2plugin_8min_8js_a43ae144ee2a4e493fea41ca42f795b14}{s}\mbox{]}, \hyperlink{fullpage_2plugin_8min_8js_a4afc7c854f61c136d7bcfa8997651b88}{o}\mbox{[}\hyperlink{paste_2plugin_8min_8js_a43ae144ee2a4e493fea41ca42f795b14}{s}\mbox{]}.style.\+z\+Index=\hyperlink{_chart_8min_8js_aef3b685c08bc6c76c8e729bd0e93901d}{a}\mbox{[}\hyperlink{jquery-ui_8min_8js_ae5e71a2600e8891c54854be157cc6626}{l}\mbox{]})\+:\hyperlink{_chart_8min_8js_aef3b685c08bc6c76c8e729bd0e93901d}{a}\mbox{[}\hyperlink{jquery-ui_8min_8js_ae5e71a2600e8891c54854be157cc6626}{l}\mbox{]} $>$ 0 \&\&(\hyperlink{fullpage_2plugin_8min_8js_a4afc7c854f61c136d7bcfa8997651b88}{o}\mbox{[}\hyperlink{jquery-ui_8min_8js_ae5e71a2600e8891c54854be157cc6626}{l}\mbox{]}.style.\+z\+Index=\hyperlink{_chart_8min_8js_aef3b685c08bc6c76c8e729bd0e93901d}{a}\mbox{[}\hyperlink{jquery-ui_8min_8js_ae5e71a2600e8891c54854be157cc6626}{l}\mbox{]}-\/1)\}\hyperlink{_code_igniter_8php_a92382071610da06a8cb62a44c4530e10}{else}\{\hyperlink{jquery-ui_8min_8js_a75bc805cf26ad48d8e8a98f5af2c3e76}{for}(\hyperlink{jquery-ui_8min_8js_a83e0f8a79d7f496783fc7527db51773e}{i}=0;\hyperlink{jquery-ui_8min_8js_a83e0f8a79d7f496783fc7527db51773e}{i}$<$ a.\+length;\hyperlink{jquery-ui_8min_8js_a83e0f8a79d7f496783fc7527db51773e}{i}++) \hyperlink{jquery_8tokeninput_8js_ad8dd46a3cbc004569e34401e9e71771a}{if}(\hyperlink{_chart_8min_8js_aef3b685c08bc6c76c8e729bd0e93901d}{a}\mbox{[}\hyperlink{jquery-ui_8min_8js_a83e0f8a79d7f496783fc7527db51773e}{i}\mbox{]} $>$ \hyperlink{_chart_8min_8js_aef3b685c08bc6c76c8e729bd0e93901d}{a}\mbox{[}\hyperlink{jquery-ui_8min_8js_ae5e71a2600e8891c54854be157cc6626}{l}\mbox{]})\{\hyperlink{paste_2plugin_8min_8js_a43ae144ee2a4e493fea41ca42f795b14}{s}=\hyperlink{jquery-ui_8min_8js_a83e0f8a79d7f496783fc7527db51773e}{i};break\}\hyperlink{paste_2plugin_8min_8js_a43ae144ee2a4e493fea41ca42f795b14}{s} $>$-\/1?(\hyperlink{fullpage_2plugin_8min_8js_a4afc7c854f61c136d7bcfa8997651b88}{o}\mbox{[}\hyperlink{jquery-ui_8min_8js_ae5e71a2600e8891c54854be157cc6626}{l}\mbox{]}.style.\+z\+Index=\hyperlink{_chart_8min_8js_aef3b685c08bc6c76c8e729bd0e93901d}{a}\mbox{[}\hyperlink{paste_2plugin_8min_8js_a43ae144ee2a4e493fea41ca42f795b14}{s}\mbox{]}, \hyperlink{fullpage_2plugin_8min_8js_a4afc7c854f61c136d7bcfa8997651b88}{o}\mbox{[}\hyperlink{paste_2plugin_8min_8js_a43ae144ee2a4e493fea41ca42f795b14}{s}\mbox{]}.style.\+z\+Index=\hyperlink{_chart_8min_8js_aef3b685c08bc6c76c8e729bd0e93901d}{a}\mbox{[}\hyperlink{jquery-ui_8min_8js_ae5e71a2600e8891c54854be157cc6626}{l}\mbox{]})\+:\hyperlink{fullpage_2plugin_8min_8js_a4afc7c854f61c136d7bcfa8997651b88}{o}\mbox{[}\hyperlink{jquery-ui_8min_8js_ae5e71a2600e8891c54854be157cc6626}{l}\mbox{]}.style.\+z\+Index=\hyperlink{_chart_8min_8js_aef3b685c08bc6c76c8e729bd0e93901d}{a}\mbox{[}\hyperlink{jquery-ui_8min_8js_ae5e71a2600e8891c54854be157cc6626}{l}\mbox{]}+1\}e.\+exec\+Command(\char`\"{}mce\+Repaint\char`\"{})\}function \hyperlink{fullpage_2plugin_8min_8js_a4afc7c854f61c136d7bcfa8997651b88}{o}()\{var \hyperlink{jquery-ui_8min_8js_acf335ef347969ef6dc8387e680fb289e}{t}=e.\+dom, \hyperlink{fullpage_2plugin_8min_8js_ab767a859d1217315f42c9bb52fc648dc}{n}=t.\+get\+Pos(t.\+get\+Parent(e.\+selection.\+get\+Node(),\char`\"{}$\ast$\char`\"{})), \hyperlink{jquery-ui_8min_8js_a83e0f8a79d7f496783fc7527db51773e}{i}=e.\+get\+Body();e.\+dom.\+add(\hyperlink{jquery-ui_8min_8js_a83e0f8a79d7f496783fc7527db51773e}{i},\char`\"{}div\char`\"{},\{style\+:\{position\+:\char`\"{}absolute\char`\"{}, left\+:n.\+x, \hyperlink{_chart_8min_8js_a0b31909b1cae9ed1db6ff042057fce60}{top\+:n.\+y} $>$ 20?n.\+y\+:20, width\+:100, height\+:100\},\char`\"{}class\char`\"{}\+:\char`\"{}mce\+Item\+Visual\+Aid mce\+Item\+Layer\char`\"{}\}, e.\+selection.\+get\+Content()$\vert$$\vert$e.\+get\+Lang(\char`\"{}layer.\+content\char`\"{})), tinymce.\+Env.\+ie \&\&t.\+set\+H\+T\+ML(\hyperlink{jquery-ui_8min_8js_a83e0f8a79d7f496783fc7527db51773e}{i}, i.\+inner\+H\+T\+ML)\}function \hyperlink{_chart_8min_8js_aef3b685c08bc6c76c8e729bd0e93901d}{a}()\{var \hyperlink{fullpage_2plugin_8min_8js_ab767a859d1217315f42c9bb52fc648dc}{n}=\hyperlink{jquery-ui_8min_8js_acf335ef347969ef6dc8387e680fb289e}{t}(e.\+selection.\+get\+Node());\hyperlink{fullpage_2plugin_8min_8js_ab767a859d1217315f42c9bb52fc648dc}{n}$\vert$$\vert$(\hyperlink{fullpage_2plugin_8min_8js_ab767a859d1217315f42c9bb52fc648dc}{n}=e.\+dom.\+get\+Parent(e.\+selection.\+get\+Node(),\char`\"{}D\+IV,\hyperlink{_chart_8min_8js_a5f11e71574d0fa4e61140f70fd15f3cd}{P},I\+MG\char`\"{})), n \&\&(\char`\"{}absolute\char`\"{}==n.\+style.\+position.\+to\+Lower\+Case()?(e.\+dom.\+set\+Styles(\hyperlink{fullpage_2plugin_8min_8js_ab767a859d1217315f42c9bb52fc648dc}{n},\{position\+:\char`\"{}\char`\"{}, left\+:\char`\"{}\char`\"{}, top\+:\char`\"{}\char`\"{}, width\+:\char`\"{}\char`\"{}, height\+:\char`\"{}\char`\"{}\}), e.\+dom.\+remove\+Class(\hyperlink{fullpage_2plugin_8min_8js_ab767a859d1217315f42c9bb52fc648dc}{n},\char`\"{}mce\+Item\+Visual\+Aid\char`\"{}), e.\+dom.\+remove\+Class(\hyperlink{fullpage_2plugin_8min_8js_ab767a859d1217315f42c9bb52fc648dc}{n},\char`\"{}mce\+Item\+Layer\char`\"{}))\+:(n.\+style.\+left$\vert$$\vert$(n.\+style.\+left=\char`\"{}20px\char`\"{}), n.\+style.\+top$\vert$$\vert$(n.\+style.\+top=\char`\"{}20px\char`\"{}), n.\+style.\+width$\vert$$\vert$(n.\+style.\+width=n.\+width?n.\+width+\char`\"{}px\char`\"{}\+:\char`\"{}100px\char`\"{}), n.\+style.\+height$\vert$$\vert$(n.\+style.\+height=n.\+height?n.\+height+\char`\"{}px\char`\"{}\+:\char`\"{}100px\char`\"{}), n.\+style.\+position=\char`\"{}absolute\char`\"{}, e.\+dom.\+set\+Attrib(n,\char`\"{}data-\/mce-\/style\char`\"{},\char`\"{}\char`\"{}), e.\+add\+Visual(e.\+get\+Body())), e.\+exec\+Command(\char`\"{}mce\+Repaint\char`\"{}), e.\+node\+Changed())\}e.\+add\+Command(\char`\"{}mce\+Insert\+Layer\char`\"{}, o), e.\+add\+Command(\char`\"{}mce\+Move\+Forward\char`\"{}, function()\{i(1)\}), e.\+add\+Command(\char`\"{}mce\+Move\+Backward\char`\"{}, function()\{i(-\/1)\}), e.\+add\+Command(\char`\"{}mce\+Make\+Absolute\char`\"{}, function()\{a()\}), e.\+add\+Button(\char`\"{}moveforward\char`\"{},\{title\+:\char`\"{}layer.\+forward\+\_\+desc\char`\"{}, cmd\+:\char`\"{}mce\+Move\+Forward\char`\"{}\}), e.\+add\+Button(\char`\"{}movebackward\char`\"{},\{title\+:\char`\"{}layer.\+backward\+\_\+desc\char`\"{}, cmd\+:\char`\"{}mce\+Move\+Backward\char`\"{}\}), e.\+add\+Button(\char`\"{}absolute\char`\"{},\{title\+:\char`\"{}layer.\+absolute\+\_\+desc\char`\"{}, cmd\+:\char`\"{}mce\+Make\+Absolute\char`\"{}\}), e.\+add\+Button(\char`\"{}insertlayer\char`\"{},\{title\+:\char`\"{}layer.\+insertlayer\+\_\+desc\char`\"{}, cmd\+:\char`\"{}mce\+Insert\+Layer\char`\"{}\}), e.\+on(\char`\"{}init\char`\"{}, function()\{tinymce.\+Env.\+ie \&\&e.\+get\+Doc().\+exec\+Command(\char`\"{}2\+D-\/\+Position\char`\"{},!1,!0)\}), e.\+on(\char`\"{}mouseup\char`\"{}, function(n)\{var i=t(n.\+target);i \&\&e.\+dom.\+set\+Attrib(i,\char`\"{}data-\/mce-\/style\char`\"{},\char`\"{}\char`\"{})\}), e.\+on(\char`\"{}mousedown\char`\"{}, function(n)\{var i, o=n.\+target, a=e.\+get\+Doc();tinymce.\+Env.\+gecko \&\&(t(o)?\char`\"{}on\char`\"{}!==a.\+design\+Mode \&\&(a.\+design\+Mode=\char`\"{}on\char`\"{}, o=a.\+body, i=o.\+parent\+Node, i.\+remove\+Child(o), i.\+append\+Child(o))\+:\char`\"{}on\char`\"{}==a.\+design\+Mode \&\&(a.\+design\+Mode=\char`\"{}off\char`\"{}))\}), e.\+on(\char`\"{}\+Node\+Change\char`\"{}, n)\})
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{layer/plugin.\+min.\+js@{layer/plugin.\+min.\+js}!add@{add}}
\index{add@{add}!layer/plugin.\+min.\+js@{layer/plugin.\+min.\+js}}
\subsubsection[{\texorpdfstring{add(""layer"", function(e)\lcurly{}function t(e)\lcurly{}do if(e.\+class\+Name \&\&-\/1"!=e.\+class\+Name.\+index\+Of(""mce\+Item\+Layer"")) return e;while(e=e.\+parent\+Node)\rcurly{}function n(t)\lcurly{}var n=e.\+dom;tinymce.\+each(n.\+select(""div,p"", t), function(e)\lcurly{}/$^\wedge$(absolute\texttt{"|}relative\texttt{"|}fixed)\$/i.\+test(e.\+style.\+position)\&\&(e.\+has\+Visual?n.\+add\+Class(e,""mce\+Item\+Visual\+Aid"")\+:n.\+remove\+Class(e,""mce\+Item\+Visual\+Aid""), n.\+add\+Class(e,""mce\+Item\+Layer""))\rcurly{})\rcurly{}function i(n)\lcurly{}var i, o, a=[], r=t(e.\+selection.\+get\+Node()), l=-\/1, s=-\/1;for(o=[], tinymce.\+walk(e.\+get\+Body(), function(e)\lcurly{}1==e.\+node\+Type \&\&/$^\wedge$(absolute\texttt{"|}relative\texttt{"|}static)\$/i.\+test(e.\+style.\+position)\&\&o.\+push(e)\rcurly{},""child\+Nodes""), i=0;i$<$ o.\+length;i++) a[i]=o[i].\+style.\+z\+Index?parse\+Int(o[i].\+style.\+z\+Index, 10)\+:0, 0 $>$ l \&\&o[i]==r \&\&(l=i);if(0 $>$ n)\lcurly{}for(i=0;i$<$ a.\+length;i++) if(a[i]$<$ a[l])\lcurly{}s=i;break\rcurly{}s $>$-\/1?(o[l].\+style.\+z\+Index=a[s], o[s].\+style.\+z\+Index=a[l])\+:a[l] $>$ 0 \&\&(o[l].\+style.\+z\+Index=a[l]-\/1)\rcurly{}else\lcurly{}for(i=0;i$<$ a.\+length;i++) if(a[i] $>$ a[l])\lcurly{}s=i;break\rcurly{}s $>$-\/1?(o[l].\+style.\+z\+Index=a[s], o[s].\+style.\+z\+Index=a[l])\+:o[l].\+style.\+z\+Index=a[l]+1\rcurly{}e.\+exec\+Command(""mce\+Repaint"")\rcurly{}function o()\lcurly{}var t=e.\+dom, n=t.\+get\+Pos(t.\+get\+Parent(e.\+selection.\+get\+Node(),""$\ast$"")), i=e.\+get\+Body();e.\+dom.\+add(i,""div"",\lcurly{}style\+:\lcurly{}position\+:""absolute"", left\+:n.\+x, top\+:n.\+y $>$ 20?n.\+y\+:20, width\+:100, height\+:100\rcurly{},""class""\+:""mce\+Item\+Visual\+Aid mce\+Item\+Layer""\rcurly{}, e.\+selection.\+get\+Content()\texttt{"|}\texttt{"|}e.\+get\+Lang(""layer.\+content"")), tinymce.\+Env.\+ie \&\&t.\+set\+H\+T\+M\+L(i, i.\+inner\+H\+T\+M\+L)\rcurly{}function a()\lcurly{}var n=t(e.\+selection.\+get\+Node());n\texttt{"|}\texttt{"|}(n=e.\+dom.\+get\+Parent(e.\+selection.\+get\+Node(),""D\+I\+V,\+P,\+I\+MG"")), n \&\&(""absolute""==n.\+style.\+position.\+to\+Lower\+Case()?(e.\+dom.\+set\+Styles(n,\lcurly{}position\+:"""", left\+:"""", top\+:"""", width\+:"""", height\+:""""\rcurly{}), e.\+dom.\+remove\+Class(n,""mce\+Item\+Visual\+Aid""), e.\+dom.\+remove\+Class(n,""mce\+Item\+Layer""))\+:(n.\+style.\+left\texttt{"|}\texttt{"|}(n.\+style.\+left=""20px""), n.\+style.\+top\texttt{"|}\texttt{"|}(n.\+style.\+top=""20px""), n.\+style.\+width\texttt{"|}\texttt{"|}(n.\+style.\+width=n.\+width?n.\+width+""px""\+:""100px""), n.\+style.\+height\texttt{"|}\texttt{"|}(n.\+style.\+height=n.\+height?n.\+height+""px""\+:""100px""), n.\+style.\+position=""absolute"", e.\+dom.\+set\+Attrib(n,""data-\/mce-\/style"",""""), e.\+add\+Visual(e.\+get\+Body())), e.\+exec\+Command(""mce\+Repaint""), e.\+node\+Changed())\rcurly{}e.\+add\+Command(""mce\+Insert\+Layer"", o), e.\+add\+Command(""mce\+Move\+Forward"", function()\lcurly{}i(1)\rcurly{}), e.\+add\+Command(""mce\+Move\+Backward"", function()\lcurly{}i(-\/1)\rcurly{}), e.\+add\+Command(""mce\+Make\+Absolute"", function()\lcurly{}a()\rcurly{}), e.\+add\+Button(""moveforward"",\lcurly{}title\+:""layer.\+forward\+\_\+desc"", cmd\+:""mce\+Move\+Forward""\rcurly{}), e.\+add\+Button(""movebackward"",\lcurly{}title\+:""layer.\+backward\+\_\+desc"", cmd\+:""mce\+Move\+Backward""\rcurly{}), e.\+add\+Button(""absolute"",\lcurly{}title\+:""layer.\+absolute\+\_\+desc"", cmd\+:""mce\+Make\+Absolute""\rcurly{}), e.\+add\+Button(""insertlayer"",\lcurly{}title\+:""layer.\+insertlayer\+\_\+desc"", cmd\+:""mce\+Insert\+Layer""\rcurly{}), e.\+on(""init"", function()\lcurly{}tinymce.\+Env.\+ie \&\&e.\+get\+Doc().\+exec\+Command(""2\+D-\/\+Position"","!1,"!0)\rcurly{}), e.\+on(""mouseup"", function(n)\lcurly{}var i=t(n.\+target);i \&\&e.\+dom.\+set\+Attrib(i,""data-\/mce-\/style"","""")\rcurly{}), e.\+on(""mousedown"", function(n)\lcurly{}var i, o=n.\+target, a=e.\+get\+Doc();tinymce.\+Env.\+gecko \&\&(t(o)?""on"""!==a.\+design\+Mode \&\&(a.\+design\+Mode=""on"", o=a.\+body, i=o.\+parent\+Node, i.\+remove\+Child(o), i.\+append\+Child(o))\+:""on""==a.\+design\+Mode \&\&(a.\+design\+Mode=""off""))\rcurly{}), e.\+on(""Node\+Change"", n)\rcurly{})}{add("layer", function(e)\{function t(e)\{do if(e.className &&-1!=e.className.indexOf("mceItemLayer")) return e;while(e=e.parentNode)\}function n(t)\{var n=e.dom;tinymce.each(n.select("div,p", t), function(e)\{/^(absolute|relative|fixed)$/i.test(e.style.position)&&(e.hasVisual?n.addClass(e,"mceItemVisualAid"):n.removeClass(e,"mceItemVisualAid"), n.addClass(e,"mceItemLayer"))\})\}function i(n)\{var i, o, a=[], r=t(e.selection.getNode()), l=-1, s=-1;for(o=[], tinymce.walk(e.getBody(), function(e)\{1==e.nodeType &&/^(absolute|relative|static)$/i.test(e.style.position)&&o.push(e)\},"childNodes"), i=0;i< o.length;i++) a[i]=o[i].style.zIndex?parseInt(o[i].style.zIndex, 10):0, 0 > l &&o[i]==r &&(l=i);if(0 > n)\{for(i=0;i< a.length;i++) if(a[i]< a[l])\{s=i;break\}s >-1?(o[l].style.zIndex=a[s], o[s].style.zIndex=a[l]):a[l] > 0 &&(o[l].style.zIndex=a[l]-1)\}else\{for(i=0;i< a.length;i++) if(a[i] > a[l])\{s=i;break\}s >-1?(o[l].style.zIndex=a[s], o[s].style.zIndex=a[l]):o[l].style.zIndex=a[l]+1\}e.execCommand("mceRepaint")\}function o()\{var t=e.dom, n=t.getPos(t.getParent(e.selection.getNode(),"*")), i=e.getBody();e.dom.add(i,"div",\{style:\{position:"absolute", left:n.x, top:n.y > 20?n.y:20, width:100, height:100\},"class":"mceItemVisualAid mceItemLayer"\}, e.selection.getContent()||e.getLang("layer.content")), tinymce.Env.ie &&t.setHTML(i, i.innerHTML)\}function a()\{var n=t(e.selection.getNode());n||(n=e.dom.getParent(e.selection.getNode(),"DIV,P,IMG")), n &&("absolute"==n.style.position.toLowerCase()?(e.dom.setStyles(n,\{position:"", left:"", top:"", width:"", height:""\}), e.dom.removeClass(n,"mceItemVisualAid"), e.dom.removeClass(n,"mceItemLayer")):(n.style.left||(n.style.left="20px"), n.style.top||(n.style.top="20px"), n.style.width||(n.style.width=n.width?n.width+"px":"100px"), n.style.height||(n.style.height=n.height?n.height+"px":"100px"), n.style.position="absolute", e.dom.setAttrib(n,"data-mce-style",""), e.addVisual(e.getBody())), e.execCommand("mceRepaint"), e.nodeChanged())\}e.addCommand("mceInsertLayer", o), e.addCommand("mceMoveForward", function()\{i(1)\}), e.addCommand("mceMoveBackward", function()\{i(-1)\}), e.addCommand("mceMakeAbsolute", function()\{a()\}), e.addButton("moveforward",\{title:"layer.forward_desc", cmd:"mceMoveForward"\}), e.addButton("movebackward",\{title:"layer.backward_desc", cmd:"mceMoveBackward"\}), e.addButton("absolute",\{title:"layer.absolute_desc", cmd:"mceMakeAbsolute"\}), e.addButton("insertlayer",\{title:"layer.insertlayer_desc", cmd:"mceInsertLayer"\}), e.on("init", function()\{tinymce.Env.ie &&e.getDoc().execCommand("2D-Position",!1,!0)\}), e.on("mouseup", function(n)\{var i=t(n.target);i &&e.dom.setAttrib(i,"data-mce-style","")\}), e.on("mousedown", function(n)\{var i, o=n.target, a=e.getDoc();tinymce.Env.gecko &&(t(o)?"on"!==a.designMode &&(a.designMode="on", o=a.body, i=o.parentNode, i.removeChild(o), i.appendChild(o)):"on"==a.designMode &&(a.designMode="off"))\}), e.on("NodeChange", n)\})}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf tinymce} Plugin\+Manager add (
\begin{DoxyParamCaption}
\item[{\char`\"{}layer\char`\"{}}]{, }
\item[{function({\bf e})\{function {\bf t}({\bf e})\{do {\bf if}(e.\+class\+Name \&\&-\/1!={\bf e.\+class\+Name.\+index\+Of}(\char`\"{}mce\+Item\+Layer\char`\"{})) return {\bf e};while({\bf e}=e.\+parent\+Node)\}function {\bf n}({\bf t})\{var {\bf n}=e.\+dom;{\bf tinymce.\+each}(n.\+select(\char`\"{}div,{\bf p}\char`\"{}, t), function({\bf e})\{/$^\wedge$(absolute$\vert$relative$\vert$fixed)\$/i.\+test({\bf e.\+style.\+position})\&\&(e.\+has\+Visual?n.\+add\+Class({\bf e},\char`\"{}mce\+Item\+Visual\+Aid\char`\"{})\+:n.\+remove\+Class({\bf e},\char`\"{}mce\+Item\+Visual\+Aid\char`\"{}), n.\+add\+Class({\bf e},\char`\"{}mce\+Item\+Layer\char`\"{}))\})\}function {\bf i}({\bf n})\{var {\bf i}, {\bf o}, {\bf a}=\mbox{[}$\,$\mbox{]}, {\bf r}={\bf t}(e.\+selection.\+get\+Node()), {\bf l}=-\/1, {\bf s}=-\/1;{\bf for}({\bf o}=\mbox{[}$\,$\mbox{]}, tinymce.\+walk(e.\+get\+Body(), function({\bf e})\{1==e.\+node\+Type \&\&/$^\wedge$(absolute$\vert$relative$\vert$static)\$/i.\+test({\bf e.\+style.\+position})\&\&o.\+push({\bf e})\},\char`\"{}child\+Nodes\char`\"{}), i=0;{\bf i}$<$ o.\+length;{\bf i}++) {\bf a}\mbox{[}{\bf i}\mbox{]}={\bf o}\mbox{[}{\bf i}\mbox{]}.style.\+z\+Index?parse\+Int({\bf o}\mbox{[}{\bf i}\mbox{]}.style.\+z\+Index, 10)\+:0, 0 $>$ {\bf l} \&\&{\bf o}\mbox{[}{\bf i}\mbox{]}=={\bf r} \&\&({\bf l}={\bf i});{\bf if}(0 $>$ {\bf n})\{{\bf for}({\bf i}=0;{\bf i}$<$ a.\+length;{\bf i}++) {\bf if}({\bf a}\mbox{[}{\bf i}\mbox{]}$<$ {\bf a}\mbox{[}{\bf l}\mbox{]})\{{\bf s}={\bf i};break\}{\bf s} $>$-\/1?({\bf o}\mbox{[}{\bf l}\mbox{]}.style.\+z\+Index={\bf a}\mbox{[}{\bf s}\mbox{]}, {\bf o}\mbox{[}{\bf s}\mbox{]}.style.\+z\+Index={\bf a}\mbox{[}{\bf l}\mbox{]})\+:{\bf a}\mbox{[}{\bf l}\mbox{]} $>$ 0 \&\&({\bf o}\mbox{[}{\bf l}\mbox{]}.style.\+z\+Index={\bf a}\mbox{[}{\bf l}\mbox{]}-\/1)\}{\bf else}\{{\bf for}({\bf i}=0;{\bf i}$<$ a.\+length;{\bf i}++) {\bf if}({\bf a}\mbox{[}{\bf i}\mbox{]} $>$ {\bf a}\mbox{[}{\bf l}\mbox{]})\{{\bf s}={\bf i};break\}{\bf s} $>$-\/1?({\bf o}\mbox{[}{\bf l}\mbox{]}.style.\+z\+Index={\bf a}\mbox{[}{\bf s}\mbox{]}, {\bf o}\mbox{[}{\bf s}\mbox{]}.style.\+z\+Index={\bf a}\mbox{[}{\bf l}\mbox{]})\+:{\bf o}\mbox{[}{\bf l}\mbox{]}.style.\+z\+Index={\bf a}\mbox{[}{\bf l}\mbox{]}+1\}e.\+exec\+Command(\char`\"{}mce\+Repaint\char`\"{})\}function {\bf o}()\{var {\bf t}=e.\+dom, {\bf n}=t.\+get\+Pos(t.\+get\+Parent(e.\+selection.\+get\+Node(),\char`\"{}$\ast$\char`\"{})), {\bf i}=e.\+get\+Body();e.\+dom.\+add({\bf i},\char`\"{}div\char`\"{},\{style\+:\{position\+:\char`\"{}absolute\char`\"{}, left\+:n.\+x, {\bf top\+:n.\+y} $>$ 20?n.\+y\+:20, width\+:100, height\+:100\},\char`\"{}class\char`\"{}\+:\char`\"{}mce\+Item\+Visual\+Aid mce\+Item\+Layer\char`\"{}\}, e.\+selection.\+get\+Content()$\vert$$\vert$e.\+get\+Lang(\char`\"{}layer.\+content\char`\"{})), tinymce.\+Env.\+ie \&\&t.\+set\+H\+T\+ML({\bf i}, i.\+inner\+H\+T\+ML)\}function {\bf a}()\{var {\bf n}={\bf t}(e.\+selection.\+get\+Node());{\bf n}$\vert$$\vert$({\bf n}=e.\+dom.\+get\+Parent(e.\+selection.\+get\+Node(),\char`\"{}D\+IV,{\bf P},I\+MG\char`\"{})), n \&\&(\char`\"{}absolute\char`\"{}==n.\+style.\+position.\+to\+Lower\+Case()?(e.\+dom.\+set\+Styles({\bf n},\{position\+:\char`\"{}\char`\"{}, left\+:\char`\"{}\char`\"{}, top\+:\char`\"{}\char`\"{}, width\+:\char`\"{}\char`\"{}, height\+:\char`\"{}\char`\"{}\}), e.\+dom.\+remove\+Class({\bf n},\char`\"{}mce\+Item\+Visual\+Aid\char`\"{}), e.\+dom.\+remove\+Class({\bf n},\char`\"{}mce\+Item\+Layer\char`\"{}))\+:(n.\+style.\+left$\vert$$\vert$(n.\+style.\+left=\char`\"{}20px\char`\"{}), n.\+style.\+top$\vert$$\vert$(n.\+style.\+top=\char`\"{}20px\char`\"{}), n.\+style.\+width$\vert$$\vert$(n.\+style.\+width=n.\+width?n.\+width+\char`\"{}px\char`\"{}\+:\char`\"{}100px\char`\"{}), n.\+style.\+height$\vert$$\vert$(n.\+style.\+height=n.\+height?n.\+height+\char`\"{}px\char`\"{}\+:\char`\"{}100px\char`\"{}), n.\+style.\+position=\char`\"{}absolute\char`\"{}, e.\+dom.\+set\+Attrib(n,\char`\"{}data-\/mce-\/style\char`\"{},\char`\"{}\char`\"{}), e.\+add\+Visual(e.\+get\+Body())), e.\+exec\+Command(\char`\"{}mce\+Repaint\char`\"{}), e.\+node\+Changed())\}e.\+add\+Command(\char`\"{}mce\+Insert\+Layer\char`\"{}, o), e.\+add\+Command(\char`\"{}mce\+Move\+Forward\char`\"{}, function()\{i(1)\}), e.\+add\+Command(\char`\"{}mce\+Move\+Backward\char`\"{}, function()\{i(-\/1)\}), e.\+add\+Command(\char`\"{}mce\+Make\+Absolute\char`\"{}, function()\{a()\}), e.\+add\+Button(\char`\"{}moveforward\char`\"{},\{title\+:\char`\"{}layer.\+forward\+\_\+desc\char`\"{}, cmd\+:\char`\"{}mce\+Move\+Forward\char`\"{}\}), e.\+add\+Button(\char`\"{}movebackward\char`\"{},\{title\+:\char`\"{}layer.\+backward\+\_\+desc\char`\"{}, cmd\+:\char`\"{}mce\+Move\+Backward\char`\"{}\}), e.\+add\+Button(\char`\"{}absolute\char`\"{},\{title\+:\char`\"{}layer.\+absolute\+\_\+desc\char`\"{}, cmd\+:\char`\"{}mce\+Make\+Absolute\char`\"{}\}), e.\+add\+Button(\char`\"{}insertlayer\char`\"{},\{title\+:\char`\"{}layer.\+insertlayer\+\_\+desc\char`\"{}, cmd\+:\char`\"{}mce\+Insert\+Layer\char`\"{}\}), e.\+on(\char`\"{}init\char`\"{}, function()\{tinymce.\+Env.\+ie \&\&e.\+get\+Doc().\+exec\+Command(\char`\"{}2\+D-\/\+Position\char`\"{},!1,!0)\}), e.\+on(\char`\"{}mouseup\char`\"{}, function(n)\{var i=t(n.\+target);i \&\&e.\+dom.\+set\+Attrib(i,\char`\"{}data-\/mce-\/style\char`\"{},\char`\"{}\char`\"{})\}), e.\+on(\char`\"{}mousedown\char`\"{}, function(n)\{var i, o=n.\+target, a=e.\+get\+Doc();tinymce.\+Env.\+gecko \&\&(t(o)?\char`\"{}on\char`\"{}!==a.\+design\+Mode \&\&(a.\+design\+Mode=\char`\"{}on\char`\"{}, o=a.\+body, i=o.\+parent\+Node, i.\+remove\+Child(o), i.\+append\+Child(o))\+:\char`\"{}on\char`\"{}==a.\+design\+Mode \&\&(a.\+design\+Mode=\char`\"{}off\char`\"{}))\}), e.\+on(\char`\"{}\+Node\+Change\char`\"{}, n)\}}]{}
\end{DoxyParamCaption}
)}\hypertarget{layer_2plugin_8min_8js_a0acf7b5c627111406907b6d1ecf99ba9}{}\label{layer_2plugin_8min_8js_a0acf7b5c627111406907b6d1ecf99ba9}
